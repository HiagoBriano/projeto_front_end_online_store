(this.webpackJsonpprojeto_front_end_online_store=this.webpackJsonpprojeto_front_end_online_store||[]).push([[0],{26:function(t,e,a){},27:function(t,e,a){},29:function(t,e,a){},31:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},39:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),s=(a(26),a(27),a(13)),o=a(21),u=a(3),l=a.n(u),p=a(11),d=a(7),h=a(8),j=a(10),b=a(9),m=(a(29),a(1)),g=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).atualizaInput=function(e){var a=e.target.value;t.setState({inputValue:a}),localStorage.setItem("Input",JSON.stringify(a))},t.limpar=function(){localStorage.setItem("idCategory",""),(0,t.props.pesquisa)()},t.state={inputValue:""},t}return Object(h.a)(a,[{key:"render",value:function(){var t=this,e=this.state.inputValue,a=this.props.quantidadeCarrinho;return Object(m.jsx)("nav",{className:"barraNavegacao",children:Object(m.jsxs)("ul",{className:"nav justify-content-center",children:[Object(m.jsxs)("li",{className:"nav-item",children:[Object(m.jsx)("span",{children:"Digite algum termo de pesquisa ou escolha uma categoria."}),Object(m.jsxs)("div",{className:"input-group mb-3",children:[Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"Digite o item procurado",value:e,onChange:this.atualizaInput}),Object(m.jsx)("button",{className:"input-group-text",onClick:function(){return t.limpar()},children:"Pesquisar"})]})]}),Object(m.jsxs)("button",{type:"button",className:"btn bg-info position-relative carrinho",children:[Object(m.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/5008/5008638.png",alt:"some text",width:"42px",height:"42px"}),Object(m.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:[a,Object(m.jsx)("span",{className:"visually-hidden",children:"itens no carrinho"})]})]})]})})}}]),a}(n.Component);function f(){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(l.a.mark((function t(){var e,a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("Input"),(a=localStorage.getItem("idCategory"))&&(a=a.replace(/"/g,"")),t.next=5,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(a,"&q=").concat(e));case 5:return n=t.sent,t.next=8,n.json();case 8:return r=t.sent,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a(31);var y=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).categorias=Object(p.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:a=e.sent,t.setState({resultadoCategoria:a});case 4:case"end":return e.stop()}}),e)}))),t.atualizaId=function(){var e=Object(p.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n=a.target.value,localStorage.setItem("idCategory",JSON.stringify(n)),(0,t.props.pesquisa)();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={resultadoCategoria:[]},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.categorias()}},{key:"render",value:function(){var t=this,e=this.state.resultadoCategoria,a=this.props.categoriaAtual;return Object(m.jsx)("div",{class:"list-group tamanho",children:e.map((function(e){var n=e.id,r=e.name;return Object(m.jsx)("button",{type:"button",className:a===n?"list-group-item list-group-item-action active":"list-group-item list-group-item-action","aria-current":"true",value:n,onClick:t.atualizaId,children:r},n)}))})}}]),a}(n.Component),C=(a(32),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var t=this.props,e=t.resultadoPesquisa,a=t.itemCarrinho;return Object(m.jsx)("div",{className:"lado",children:e.map((function(t){return Object(m.jsxs)("div",{className:"card cardResultados",children:[Object(m.jsx)("img",{src:"".concat(t.thumbnail),className:"card-img-top",alt:"".concat(t.title),height:"200px"}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:t.title}),Object(m.jsx)("p",{className:"card-text",children:"R$ ".concat(t.price.toFixed(2).replace(".",","))}),Object(m.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){return a(t)},children:"Adicionar ao carrinho"})]})]})}))})}}]),a}(n.Component)),S=(a(33),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).pesquisa=Object(p.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:a=e.sent,t.setState({resultadoPesquisa:a.results}),t.setState({categoriaAtual:localStorage.getItem("idCategory").replace(/"/g,"")});case 5:case"end":return e.stop()}}),e)}))),t.itemCarrinho=function(e){var a=JSON.parse(localStorage.getItem("carrinho"));e.volume=1,a?localStorage.setItem("carrinho",JSON.stringify([].concat(Object(o.a)(a),[e]))):localStorage.setItem("carrinho",JSON.stringify([e]));var n=JSON.parse(localStorage.getItem("carrinho"));t.setState({quantidadeCarrinho:n.length})},t.state={resultadoPesquisa:[],categoriaAtual:"",quantidadeCarrinho:"0"},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("carrinho"));t&&this.setState({quantidadeCarrinho:t.length})}},{key:"render",value:function(){var t=this.state,e=t.resultadoPesquisa,a=t.categoriaAtual,n=t.quantidadeCarrinho;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g,{pesquisa:this.pesquisa,quantidadeCarrinho:n}),Object(m.jsxs)("div",{className:"ladoPrincipal",children:[Object(m.jsx)(y,{pesquisa:this.pesquisa,categoriaAtual:a}),Object(m.jsx)(C,{resultadoPesquisa:e,itemCarrinho:this.itemCarrinho})]})]})}}]),a}(n.Component));var N=function(){return Object(m.jsx)(s.BrowserRouter,{basename:"/projeto_front_end_online_store",children:Object(m.jsx)(s.Switch,{children:Object(m.jsx)(s.Route,{path:"/",exact:!0,children:Object(m.jsx)(S,{})})})})},q=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),q()}},[[39,1,2]]]);
//# sourceMappingURL=main.b06a890e.chunk.js.map